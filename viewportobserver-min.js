/*
* MIT Licensed
* Copyright (c) 2012, Priit Pirita, atirip@yahoo.com
* https://github.com/atirip/vieportobserver.js
*/
;(function(a,b){var c=2,d=!1,e=!1,f=200,g=a.document,h=g.documentElement,i=g.body,j=Array.prototype.slice,k=[],l=function(){var a=function(){for(var d,a="CSS1Compat"===g.compatMode&&h.clientHeight||i&&i.clientHeight||h.clientHeight||800,b=h.scrollTop||i.scrollTop,c=0,e=k.length;e>c;c++)(d=k[c])&&!1===d.call(null,a,b)&&delete k[c]};setTimeout(a,10)},m=function(a,b){var c=null,d=null;return function(){var f=this,g=j.call(arguments,0),h=function(){b.apply(f,g),c=null},i=function(){if(e){var i=new Date;i-c>a&&(c=i,b.apply(f,g))}d&&clearTimeout(d),d=setTimeout(h,a)};setTimeout(i,10)}},n=function(b,j){j=j||{},void 0!==j.throttleDuringScroll&&(e=j.throttleDuringScroll),void 0!==j.throttleInterval&&(f=j.throttleInterval),i||(i=g.body);for(var s,t,m=j.hide,n=j.reveal?function(a,b){var c=function(){j.reveal(a)};void 0===b?j.reveal(a):setTimeout(c,b)}:function(){},o=j.reach||c,p=j.live||d,q=+(b&&b.length)||0,r=0,u=h.scrollTop||i.scrollTop;q>r;r++)s=b[r],p||(t=s.getBoundingClientRect(),t={top:t.top+u,bottom:t.bottom+u}),k[k.length]=function(b,c,d,e,f,g){return function(h,i){var j,k,l,m;if(h.observeHeight&&(i=h.observeTop,h=h.observeHeight),j=-g*h,k=-j+h,l=0,m=h,c?f=b.getBoundingClientRect():(j=i+j,k=i+k,l=i,m=i+m),f.bottom>j&&k>f.top){if(d.call(a,b,f.bottom>l&&m>f.top?void 0:10),!e)return!1}else e&&e.call(a,b);return!0}}(s,p,n,m,t,o);l()},o=function(){return"ontouchstart"in a?l:m(f,l)}();return"getBoundingClientRect"in h?(a.addEventListener?a.addEventListener("scroll",o,!1):a.attachEvent&&a.attachEvent("onscroll",o),b.viewportobserver=n,void 0):(b.observeViewport=function(){},void 0)})(window,window.atirip||(window.atirip={}));